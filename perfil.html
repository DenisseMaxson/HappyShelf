<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Happy Shelf - Mi Perfil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-light">

    <header class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container-fluid container-xl">
            <a href="index.html" class="navbar-brand fw-bold">The Happy Shelf</a>
             <a href="index.html" class="btn btn-outline-secondary btn-sm">Volver a Inicio</a>
        </div>
    </header>

    <main class="container py-5">
        <div class="card shadow-lg mx-auto p-4 p-md-5" style="max-width: 600px;">
            <h1 class="fs-2 fw-bold text-dark mb-4 border-bottom pb-2">Mi Perfil y Herramientas</h1>
            
            <div class="mb-4">
                <p class="fs-6 fw-semibold text-secondary mb-1">Usuario:</p>
                <div id="profile-user-id" class="p-3 bg-light rounded font-monospace small mb-3">Cargando...</div>

                <p class="fs-6 fw-semibold text-secondary mb-1">Email Registrado:</p>
                <div id="profile-user-email" class="p-3 bg-light rounded font-monospace small">Cargando...</div>
            </div>

            <button onclick="handleLogout()" class="btn btn-danger w-100">Cerrar Sesión</button>
        </div>
    </main>
    
    <script src="js/miScript.js"></script>
    <script>
        // Script inline específico para Perfil: verificar sesión al cargar
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('isLoggedIn') !== 'true') {
                window.location.href = 'login.html';
            } else {
                // Rellenar datos
                document.getElementById('profile-user-email').textContent = localStorage.getItem('userEmail');
                const name = localStorage.getItem('userName') || 'USER';
                document.getElementById('profile-user-id').textContent = `ID-${name.toUpperCase()}-SHELF-001`;
            }
        });
    </script>
</body>
</html>